# variables of the model

# table_key:                                      # name of the data table from which variables are defined
#     name: table_name                            # description or full name of the table
#     type: table_type                            # endogenous, exogenous, constant or dictionary 
#     type:                                       # dictionary with keys as problem key and values as table_type 
#         problem_key: table_type
#     integer: True                               # (optional) if variables of the table are integers
#     coordinates: [a, b, c, d]                   # list of table coordinates (set_key symbols)
#     variables_info:                             # list of variables defined from the data_table
#         var_key_1:                              # variable name
#             value: constant_type                # (only for table type: constant) types list in constants.py
#             set_key_a:                          # (optional) set_key symbol
#                 dim: str                        # (optional) rows, cols or intra
#                 filters: {index: values}        # (optional) filters for the set values

# RULES:
# - variables define SQLite tables (name case insensitive: two tables named 
# 'e' and 'E' are not allowed. However, variables symbols are case sensitive).
# - 

u:
  name: use matrix   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs, flows_agg]   # list of coordinates with set_key symbols
  variables_info:
    u:
      flows_agg:
        dim: rows
      techs:
        dim: cols
    u_hh:
      techs:
        filters: {time_resolution: hour}
      flows_agg:
        filters: {time_resolution: hour}
    u_hy:
      flows_agg:
        filters: {time_resolution: hour}
      techs:
        dim: cols
        filters: {time_resolution: year}
    u_fy:
      flows_agg:
        dim: rows
        filters: {time_resolution: year}
      techs:
        dim: cols


d:
  name: make matrix   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs, flows]  # list of coordinates with set_key symbols
  variables_info:
    d:
      techs:
        dim: rows
      flows:
        dim: cols
    d_hh:
      techs:
        dim: rows
        filters: {time_resolution: hour}
      flows:
        dim: cols
        filters: {time_resolution: hour}




############# cost parameters #####################
c_om:
  name: operational_costs   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    c_om:
      techs:
        dim: cols

c_inv:
  name: investment_costs   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    c_inv:
      techs:
        dim: cols
        filters: {capacity: cap}



lt_res:
  name: residual lifetime of existing techs   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    lt_res:
      techs:
        filters: {capacity: cap}

lt_new:
  name: residual lifetime of new techs   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    lt_new:
      techs:
        filters: {capacity: cap}

c_start:
  name: initial installed capacity   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    c_start:
      techs:
        dim: cols
        filters: {capacity: cap}
    c_start_t:
      techs:
        filters: {capacity: cap}



sf:
  name: shape factor for weibull function  # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    sf:
      techs:
        filters: {capacity: cap}

dr:
  name: discount rate   # description or full name of the table
  type: exogenous
  coordinates: [scenarios]  # list of coordinates with set_key symbols
  variables_info:
    dr:

# ########## technical parameters ################

lf_max_h:
  name: lf maximum   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs, hours]  # list of coordinates with set_key symbols
  variables_info:
    lf_max_h:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: hourly_timeseries, capacity: cap, time_resolution: hour}

lf_min_h:
  name: lf minimum   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs, hours]  # list of coordinates with set_key symbols
  variables_info:
    lf_min_h:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: hourly_timeseries, capacity: cap, time_resolution: hour}

lf_max:
  name: lf maximum   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    lf_max:
      techs:
        dim: cols
        filters: {productivity: yearly_load_factor , capacity: cap}

lf_min:
  name: lf minimum   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, techs]  # list of coordinates with set_key symbols
  variables_info:
    lf_min:
      techs:
        dim: cols
        filters: {productivity: yearly_load_factor , capacity: cap}
        
############# time resolution ####################

periods:
  name: time resolution
  type: exogenous
  coordinates: [scenarios]  
  variables_info:
    periods: #length of the planning horizon i.e. 1 year, unit: days

n_days:
  name: time resolution
  type: exogenous
  coordinates: [scenarios]  
  variables_info:
    n_days: #length of the planning horizon i.e. 1 year, unit: days

n_slices:
  name: time resolution
  type: exogenous
  coordinates: [scenarios]  
  variables_info:
    n_slices: #number of slices in a day, unit: number of hours
       
############## demand curves ######################
Y:
  name: final demand   # description or full name of the table
  type: exogenous
  coordinates: [scenarios, flows_agg, years]  # list of coordinates with set_key symbols
  variables_info:
    Y:
      flows_agg:
        dim: rows
      years:
        dim: cols
    Y_fh:
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
    Y_fy:
      flows_agg:
        dim: rows
        filters: {time_resolution: year}
      years:
        dim: cols 

dp_Y:
  name: final demand profile  # description or full name of the table
  type: exogenous
  coordinates: [scenarios, flows_agg, hours]  # list of coordinates with set_key symbols
  variables_info:
    dp_Y:
      hours:
        dim: cols
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}

dp_int:
  name: intermediate demand profile  # description or full name of the table
  type: exogenous
  coordinates: [scenarios, flows_agg, techs, hours]  # list of coordinates with set_key symbols
  variables_info:
    dp_int:
      techs:
        filters: {time_resolution: year}
        dim: rows
      hours:
        dim: cols
      flows_agg:
        filters: {time_resolution: hour}
# -----------------------------------------------------------------------------
# exogenous variables

Qh:
  name: hourly product output   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, flows, hours, years]  # list of coordinates with set_key symbols
  variables_info:
    Qh:
      hours:
        dim: rows
      flows:
        dim: cols
        filters: {time_resolution: hour}


Q:
  name: annual product output   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, flows, years]   # list of coordinates with set_key symbols
  variables_info:
    Q:
      years:
        dim: rows  
      flows:
        dim: cols
    Qy:
      flows:
        dim: cols
    Q_fh:
      years:
        dim: rows
      flows:
        dim: cols
        filters: {time_resolution: hour}
    Q_fh_y:
      flows:
        dim: cols
        filters: {time_resolution: hour}


Qagg_h:
  name: aggregated hourly product output   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, flows_agg, hours, years]  # list of coordinates with set_key symbols
  variables_info:
    Qagg_h:
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
      hours:
        dim: cols
Qagg:
  name: aggregaten annual product otuput   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, flows_agg, years]   # list of coordinates with set_key symbols
  variables_info:
    Qagg:
      flows_agg:
        dim: rows
      years:
        dim: cols
    Qagg_fh:
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
      years:
        dim: cols
    Qagg_fy:
      flows_agg:
        dim: rows
        filters: {time_resolution: year}
      years:
        dim: cols
    Qagg_fh_y:
      flows_agg:
        dim: cols
        filters: {time_resolution: hour}

Xh:
  name: hourly technology activity   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, hours, years]  # list of coordinates with set_key symbols
  variables_info:
    Xh:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {time_resolution: hour}
    Xh_t:
      hours:
        dim: rows
      techs:
        filters: {time_resolution: hour}
    Xh_ts:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: hourly_timeseries, capacity: cap, time_resolution: hour}
X:
  name: annual technology production   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]   # list of coordinates with set_key symbols
  variables_info:
    X:
      years:
        dim: rows
      techs:
        dim: cols
    Xy:
      techs:
        dim: cols
    X_th:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {time_resolution: hour}
    X_th_y:
      techs:
        dim: cols
        filters: {time_resolution: hour}
    X_ty:
      techs:
        dim: cols
        filters: {time_resolution: year}
    X_lf:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: yearly_load_factor, capacity: cap}


Yh:
  name: final demand by hour   
  type: endogenous
  coordinates: [scenarios, flows_agg, hours, years]  
  variables_info:
    Yh:
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
      hours:
        dim: cols
uh_ty:
  name: intermediate demand by hour   
  type: endogenous
  coordinates: [scenarios, flows_agg, techs, hours, years]   
  variables_info:
    uh_ty:
      techs:
        dim: rows
        filters: {time_resolution: year}
      hours:
        dim: cols
      flows_agg:
        filters: {time_resolution: hour}

uh_th:
  name: intermediate demand by hour   
  type: endogenous
  coordinates: [scenarios, flows_agg, techs, hours, years]   
  variables_info:
    uh_th:
      techs:
        dim: rows
        filters: {time_resolution: hour}
      hours:
        dim: cols
      flows_agg:
        filters: {time_resolution: hour}
    uh_th_t:
      hours:
        dim: cols
      flows_agg:
        filters: {time_resolution: hour}
      techs:
        filters: {time_resolution: hour}


uh_tot:
  name: intermediate demand by hour   
  type: endogenous
  coordinates: [scenarios, flows_agg, hours, years]   
  variables_info:
    uh_tot:
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
      hours:
        dim: cols
    uh_tot_f:
      hours:
        dim: cols
      flows_agg:
       filters: {time_resolution: hour}

# ############# activity constraints ################

Xmax_h:
  name: X max by hour   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, hours, years]  # list of coordinates with set_key symbols
  variables_info:
    Xmax_h:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: hourly_timeseries, capacity: cap, time_resolution: hour}
Xmin_h:
  name: X min by hour   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, hours, years]  # list of coordinates with set_key symbols
  variables_info:
    Xmin_h:
      hours:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: hourly_timeseries , capacity: cap, time_resolution: hour}

Xmax_y:
  name: X max by year   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    Xmax_y:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: yearly_load_factor , capacity: cap}

Xmin_y:
  name: X min by year   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    Xmin_y:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {productivity: yearly_load_factor , capacity: cap}




# ############# capacity  ############################


c_new:
  name: new installed capacity
  type: endogenous
  coordinates: [scenarios, techs, years]
  variables_info:
    c_new:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap} 
    c_new_t:
      years:
        dim: rows
      techs:
        filters: {capacity: cap} 

c_disp_new:
  name: disposed capacity (new)
  type: endogenous
  coordinates: [scenarios, techs, years]
  variables_info:
    c_disp_new:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap} 
    c_disp_new_t:
      years:
        dim: rows
      techs:
        filters: {capacity: cap} 

c_disp_start:
  name: disposed capacity (new)
  type: endogenous
  coordinates: [scenarios, techs, years]
  variables_info:
    c_disp_start:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap} 
    c_disp_start_t:
      years:
        dim: rows
      techs:
        filters: {capacity: cap} 


c_operative:
  name: operative capacity   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    c_op:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap}
    c_op_ts:
      techs:
        dim: cols
        filters: {capacity: cap, time_resolution: hour, productivity: hourly_timeseries}
    c_op_lf:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap, productivity: yearly_load_factor}


# ################ costs ############################

C_om_tot:
  name: total operatiion costs   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    C_om_tot:
      years:
        dim: rows
      techs:
        dim: cols

C_om_tot_disc:
  name: total discounted operation costs   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    C_om_tot_disc:
      years:
        dim: rows
      techs:
        dim: cols


C_inv_tot:
  name: total investment costs   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    C_inv_tot:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap}

C_inv_tot_disc:
  name: total discounted investment costs   # description or full name of the table
  type: endogenous
  coordinates: [scenarios, techs, years]  # list of coordinates with set_key symbols
  variables_info:
    C_inv_tot_disc:
      years:
        dim: rows
      techs:
        dim: cols
        filters: {capacity: cap}






# # -----------------------------------------------------------------------------
# # constants

I_ff:
  name: constant values
  type: constant
  coordinates: [scenarios, flows, flows_agg]
  variables_info:
    I_ff:
      value: identity_rcot
      flows_agg:
        dim: rows
      flows:
        dim: cols

I_ff_h:
  name: constant values
  type: constant
  coordinates: [scenarios, flows, flows_agg]
  variables_info:
    I_ff_h:
      value: identity_rcot
      flows_agg:
        dim: rows
        filters: {time_resolution: hour}
      flows:
        dim: cols
        filters: {time_resolution: hour}

Tyy:
  name: lower triangular matrix
  type: constant
  coordinates: [scenarios, years]
  variables_info:
    Tyy:
      value: lower_triangular
      years:
        dim: cols

sum_vect_th:
  name: constant values repeated by year techs
  type: constant
  coordinates: [scenarios, techs]
  variables_info:
    sum_vect_th:
      value: sum_vector
      techs:
        dim: cols
        filters: {time_resolution: hour}


sum_vect_ty:
  name: constant values repeated by year techs
  type: constant
  coordinates: [scenarios, techs]
  variables_info:
    sum_vect_ty:
      value: sum_vector
      techs:
        dim: cols
        filters: {time_resolution: year}


sum_vect_h:
  name: constant values repeated by year techs
  type: constant
  coordinates: [scenarios, hours]
  variables_info:
    sum_vect_h:
      value: sum_vector
      hours:
        dim: cols

y_range:
  name: range of years
  type: constant
  coordinates: [scenarios, years]
  variables_info:
    y_range:
      value: arange_1
      years:
        dim: rows